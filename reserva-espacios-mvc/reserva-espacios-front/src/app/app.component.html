<div class="container mx-auto p-4 md:p-6 lg:p-8">
  <header class="header bg-blue-500 text-white p-4 md:p-6 lg:p-8">
    <h1 class="text-3xl font-bold mb-4">Reserva de Espacios para Eventos</h1>
    <nav class="flex justify-end">
      <a href="#" class="text-lg hover:text-blue-700 transition duration-300 ease-in-out">Administrador</a>
      <button class="bg-blue-700 hover:bg-blue-900 text-white font-bold py-2 px-4 rounded ml-4" (click)="login()">Iniciar Sesión</button>
    </nav>
  </header>

  <main class="mt-8">
    <section class="bg-white p-4 md:p-6 lg:p-8 shadow-md rounded">
      <h2 class="text-2xl font-bold mb-4">Encuentra Espacios Disponibles</h2>
      <form class="flex flex-wrap justify-center mb-4">
        <div class="w-full md:w-1/2 lg:w-1/3 xl:w-1/4 mb-4 md:mb-0">
          <label for="date" class="block text-lg font-bold mb-2">Fecha</label>
          <input type="date" id="date" class="block w-full p-2 text-lg border border-gray-400 rounded focus:outline-none focus:ring focus:border-blue-500" (input)="handleFilterChange('date', $event)">
        </div>
        <div *ngIf="showLoginPopup" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50">
          <div class="bg-white p-8 rounded shadow-lg w-full max-w-md">
            <h2 class="text-2xl font-bold mb-6 text-center">Iniciar Sesión</h2>
            <form (submit)="login()">
              <div class="mb-4">
                <label for="username" class="block text-lg font-bold mb-2">Usuario</label>
                <input id="username" type="text" class="block w-full p-2 text-lg border border-gray-400 rounded focus:outline-none focus:ring focus:border-blue-500" [(ngModel)]="username" name="username" required>
              </div>
      
              <div class="mb-4">
                <label for="password" class="block text-lg font-bold mb-2">Contraseña</label>
                <input id="password" type="password" class="block w-full p-2 text-lg border border-gray-400 rounded focus:outline-none focus:ring focus:border-blue-500" [(ngModel)]="password" name="password" required>
              </div>
      
              <div class="flex justify-between items-center">
                <button type="button" class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded" (click)="showLoginPopup = false">Cancelar</button>
                <button type="submit" class="bg-blue-700 hover:bg-blue-900 text-white font-bold py-2 px-4 rounded">Iniciar Sesión</button>
              </div>
            </form>
          </div>
        </div>

        <div class="w-full md:w-1/2 lg:w-1/3 xl:w-1/4 mb-4 md:mb-0">
          <label for="capacity" class="block text-lg font-bold mb-2">Capacidad</label>
          <select id="capacity" class="block w-full p-2 text-lg border border-gray-400 rounded focus:outline-none focus:ring focus:border-blue-500" (input)="handleFilterChange('capacity', $event)">
            <option value="">Seleccionar Capacidad</option>
            <option value="10"> 10 personas</option>
            <option value="20"> 20 personas</option>
            <option value="50"> 50 personas</option>
            <option value="100"> 100 personas</option>
            
          </select>
        </div>

        <div class="w-full md:w-1/2 lg:w-1/3 xl:w-1/4 mb-4 md:mb-0">
          <label for="eventType" class="block text-lg font-bold mb-2">Tipo de Evento</label>
          <select id="eventType" class="block w-full p-2 text-lg border border-gray-400 rounded focus:outline-none focus:ring focus:border-blue-500" (input)="handleFilterChange('eventType', $event)">
            <option value="">Seleccionar Tipo de Evento</option>
            <option value="Reunión">Reunión</option>
            <option value="Taller">Taller</option>
            <option value="Conferencia">Conferencia</option>
            <option value="Partido de Baloncesto">Partido de Baloncesto</option>
            <option value="Natación">Natación</option>
            <option value="Entrenamiento">Entrenamiento</option>
            <option value="Juegos de Mesa">Juegos de Mesa</option>
            <option value="Estudio en Grupo">Estudio en Grupo</option>
            <option value="Meditación">Meditación</option>
            <option value="Fiesta">Fiesta</option>
            <option value="Otro">Otro</option>
          </select>
        </div>
      </form>

      <!-- Botón para aplicar filtros -->
      <button (click)="search()" class="bg-blue-700 hover:bg-blue-900 text-white font-bold py-2 px-4 rounded">Buscar</button>
    </section>

    <!-- Tarjetas de espacios filtrados -->
    <section *ngIf="showResults" class="bg-white p-4 md:p-6 lg:p-8 shadow-md rounded mt-8">
      <h3 class="text-2xl font-bold mb-4">Espacios Disponibles</h3>
      <div class="flex flex-wrap gap-4">
        <div *ngFor="let space of filteredSpaces" class="card bg-white p-4 md:p-6 lg:p-8 shadow-md rounded mb-4 w-full md:w-1/2 lg:w-1/3 xl:w-1/4">
          <h4 class="text-lg font-bold mb-2">{{ space.title }}</h4>
          <p class="text-lg mb-2">Capacidad: {{ space.capacity }} personas | Tipo de Evento: {{ space.eventType }}</p>
          
          <button class="bg-blue-700 hover:bg-blue-900 text-white font-bold py-2 px-4 rounded">Reservar</button>
        </div>
      </div>
    </section>

    <!-- Si no hay resultados -->
    <section *ngIf="showResults && filteredSpaces.length === 0" class="bg-white p-4 md:p-6 lg:p-8 shadow-md rounded mt-8">
      <p>No hay espacios disponibles que cumplan con los criterios seleccionados.</p>
    </section>
  </main>
</div>
