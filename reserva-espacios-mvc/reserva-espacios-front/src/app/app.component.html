<div class="container mx-auto p-4 md:p-6 lg:p-8">
  <header class="header bg-blue-500 text-white p-4 md:p-6 lg:p-8">
    <h1 class="text-3xl font-bold mb-4">Reserva de Espacios para Eventos</h1>
    <nav class="flex justify-end">
     
      <!-- Botón para abrir el formulario de inicio de sesión -->
     <!-- Botón para abrir el formulario de inicio de sesión -->
<button (click)="openLoginPopup()" class="bg-blue-700 text-white py-2 px-4 rounded hover:bg-blue-600">
  Iniciar Sesión
</button>

<!-- Formulario de inicio de sesión (por defecto oculto) -->
<div *ngIf="showLoginPopup" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50">
  <div class="bg-white p-8 rounded shadow-lg w-full max-w-md">
    <h2 class="text-2xl font-bold mb-6 text-center text-blue-600">Iniciar Sesión</h2>
    
    <!-- Formulario de inicio de sesión -->
    <form (ngSubmit)="login()">
      <div class="mb-4">
        <label for="username" class="block text-lg font-bold mb-2 text-blue-400">Usuario</label>
        <input id="username" type="text" class="block w-full text-black delay-300 p-2 text-lg border border-gray-400 rounded focus:outline-none focus:ring focus:border-blue-500"
               [(ngModel)]="username" name="username" required>
      </div>

      <div class="mb-4">
        <label for="password" class="block text-lg font-bold mb-2 text-blue-400">Contraseña</label>
        <input id="password" type="password" class="block w-full p-2 text-black delay-300 text-lg border border-gray-400 rounded focus:outline-none focus:ring focus:border-blue-500"
               [(ngModel)]="loginPassword" name="password" required>
      </div>

      <div class="flex justify-between items-center">
        <button type="button" class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded" (click)="closeLoginPopup()">
          Cancelar
        </button>
        <button type="submit" class="bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600">
          Iniciar Sesión
        </button>
      </div>
    </form>

    <!-- Enlace para crear cuenta -->
    <div class="mt-6 text-center">
      <a href="#" class="text-blue-500 hover:underline" (click)="openSignupPopup()">Crear cuenta</a>
    </div>
  </div>
</div>

<!-- Botón para mostrar el formulario de registro -->
<div class="mt-6 text-center">
  <a href="#" class="text-blue-500 hover:underline" (click)="openSignupPopup()">Crear cuenta</a>
</div>

<!-- Botón para abrir el popup -->
<div class="mt-6 text-center">
  <a href="#" class="text-blue-500 hover:underline" (click)="openSignupPopup()">Crear cuenta</a>
</div>

<!-- Formulario de registro (por defecto oculto) -->
<div *ngIf="showSignupPopup" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm">
  <div class="bg-white bg-opacity-10 backdrop-filter backdrop-blur-lg p-8 rounded-xl shadow-lg w-full max-w-lg border border-white border-opacity-30">
    <h2 class="text-3xl font-extrabold mb-6 text-center text-blue-500">Crear Cuenta</h2>

    <form (ngSubmit)="register()">
      <!-- Grid 2x2 para los primeros 4 inputs -->
      <div class="grid grid-cols-2 gap-4 mb-4">
        <div>
          <label for="name" class="block text-lg font-semibold mb-2 text-white">Primer Nombre</label>
          <input id="name" type="text" class="block w-full p-3 text-lg text-white bg-white bg-opacity-20 border border-white border-opacity-30 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                 [(ngModel)]="name" name="name" required>
        </div>
        <div>
          <label for="secondName" class="block text-lg font-semibold mb-2 text-white">Segundo Nombre</label>
          <input id="secondName" type="text" class="block w-full p-3 text-lg text-white bg-white bg-opacity-20 border border-white border-opacity-30 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                 [(ngModel)]="secondName" name="secondName" required>
        </div>
        <div>
          <label for="primerApellido" class="block text-lg font-semibold mb-2 text-white">Primer Apellido</label>
          <input id="primerApellido" type="text" class="block w-full p-3 text-lg text-white bg-white bg-opacity-20 border border-white border-opacity-30 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                 [(ngModel)]="primerApellido" name="primerApellido" required>
        </div>
        <div>
          <label for="segundoApellido" class="block text-lg font-semibold mb-2 text-white">Segundo Apellido</label>
          <input id="segundoApellido" type="text" class="block w-full p-3 text-lg text-white bg-white bg-opacity-20 border border-white border-opacity-30 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                 [(ngModel)]="segundoApellido" name="segundoApellido" required>
        </div>
      </div>

      <!-- Inputs adicionales -->
      <div class="mb-4">
        <label for="cedula" class="block text-lg font-semibold mb-2 text-white">Cédula</label>
        <input id="cedula" type="text" class="block w-full p-3 text-lg text-white bg-white bg-opacity-20 border border-white border-opacity-30 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
               [(ngModel)]="cedula" name="cedula" required>
      </div>

      <div class="mb-4">
        <label for="email" class="block text-lg font-semibold mb-2 text-white">Correo Electrónico</label>
        <input id="email" type="email" class="block w-full p-3 text-lg text-white bg-white bg-opacity-20 border border-white border-opacity-30 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
               [(ngModel)]="email" name="email" required>
      </div>

      <div class="mb-4">
        <label for="password" class="block text-lg font-semibold mb-2 text-white">Contraseña</label>
        <input id="password" type="password" class="block w-full p-3 text-lg text-white bg-white bg-opacity-20 border border-white border-opacity-30 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
               [(ngModel)]="password" name="password" required>
      </div>

      <div class="mb-4">
        <label for="telefono" class="block text-lg font-semibold mb-2 text-white">Teléfono</label>
        <input id="telefono" type="tel" class="block w-full p-3 text-lg text-white bg-white bg-opacity-20 border border-white border-opacity-30 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
               [(ngModel)]="telefono" name="telefono" required>
      </div>

      <!-- Botones -->
      <div class="flex justify-between items-center">
        <button type="button" class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-6 rounded-lg transition-all duration-300 ease-in-out" (click)="closeSignupPopup()">
          Cancelar 
        </button>
        <button type="submit" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-6 rounded-lg transition-all duration-300 ease-in-out">
          Registrarse
        </button>
      </div>
    </form>
  </div>
</div>

    </nav>
  </header>

  <main class="mt-8">
    <section class="bg-white p-4 md:p-6 lg:p-8 shadow-md rounded">
      <h2 class="text-2xl font-bold mb-4">Encuentra Espacios Disponibles</h2>
      <form class="flex flex-wrap justify-center mb-4">
        <div class="w-full md:w-1/2 lg:w-1/3 xl:w-1/4 mb-4 md:mb-0">
          <label for="date" class="block text-lg font-bold mb-2">Fecha</label>
          <input type="date" id="date" class="block w-full p-2 text-lg border border-gray-400 rounded focus:outline-none focus:ring focus:border-blue-500" (input)="handleFilterChange('date', $event)">
        </div>

        <div class="w-full md:w-1/2 lg:w-1/3 xl:w-1/4 mb-4 md:mb-0">
          <label for="capacity" class="block text-lg font-bold mb-2">Capacidad</label>
          <select id="capacity" class="block w-full p-2 text-lg border border-gray-400 rounded focus:outline-none focus:ring focus:border-blue-500" (input)="handleFilterChange('capacity', $event)">
            <option value="">Seleccionar Capacidad</option>
            <option value="10"> 10 personas</option>
            <option value="20"> 20 personas</option>
            <option value="50"> 50 personas</option>
            <option value="100"> 100 personas</option>
          </select>
        </div>

        <div class="w-full md:w-1/2 lg:w-1/3 xl:w-1/4 mb-4 md:mb-0">
          <label for="eventType" class="block text-lg font-bold mb-2">Tipo de Evento</label>
          <select id="eventType" class="block w-full p-2 text-lg border border-gray-400 rounded focus:outline-none focus:ring focus:border-blue-500" (input)="handleFilterChange('eventType', $event)">
            <option value="">Seleccionar Tipo de Evento</option>
            <option value="Reunión">Reunión</option>
            <option value="Taller">Taller</option>
            <option value="Conferencia">Conferencia</option>
            <option value="Partido de Baloncesto">Partido de Baloncesto</option>
            <option value="Natación">Natación</option>
            <option value="Entrenamiento">Entrenamiento</option>
            <option value="Juegos de Mesa">Juegos de Mesa</option>
            <option value="Estudio en Grupo">Estudio en Grupo</option>
            <option value="Meditación">Meditación</option>
            <option value="Fiesta">Fiesta</option>
            <option value="Otro">Otro</option>
          </select>
        </div>
      </form>

      <!-- Botón para aplicar filtros -->
      <button (click)="search()" class="bg-blue-700 hover:bg-blue-900 text-white font-bold py-2 px-4 rounded">Buscar</button>
    </section>

    <!-- Tarjetas de espacios filtrados -->
    <section *ngIf="showResults" class="bg-white p-4 md:p-6 lg:p-8 shadow-md rounded mt-8">
      <h3 class="text-2xl font-bold mb-4">Espacios Disponibles</h3>
      <div class="flex flex-wrap gap-4">
        <div *ngFor="let space of filteredSpaces" class="card bg-white p-4 md:p-6 lg:p-8 shadow-md rounded mb-4 w-full md:w-1/2 lg:w-1/3 xl:w-1/4">
          <h4 class="text-lg font-bold mb-2">{{ space.title }}</h4>
          <p class="text-lg mb-2">Capacidad: {{ space.capacity }} personas | Tipo de Evento: {{ space.eventType }}</p>
          
          <button class="bg-blue-700 hover:bg-blue-900 text-white font-bold py-2 px-4 rounded">Reservar</button>
        </div>
      </div>
    </section>

    <!-- Si no hay resultados -->
    <section *ngIf="showResults && filteredSpaces.length === 0" class="bg-white p-4 md:p-6 lg:p-8 shadow-md rounded mt-8">
      <p>No hay espacios disponibles que cumplan con los criterios seleccionados.</p>
    </section>
  </main>
</div>
